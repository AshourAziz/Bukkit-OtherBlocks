# Eventually this file should include an easy test for every feature

defaults:

# test ANY_ITEM somewhere

otherdrops:
  GRASS:
    # Test block drop & message
    - tool: ALL # tool ALL is the default but make sure it works if it's there too
      drop: DIAMOND_SWORD # test item drop
      message: "&Cstep 1a)&F A diamond sword should have dropped, please wait a moment for a pig to drop." # test string out of list
    - tool: ALL
    # test messages & color
      message: ["Color test: Â§EYellow, &CRed, &fWhite"]
    
    - tool: ALL
      drop: PIG
      delay: 40
      message: ["&Cstep 1b)&F A pig should have dropped, please kill it."]
      
  PIG@UNSADDLED:
    - message: "&Cstep 2a)&F Money test - balance will show, money drop and balance shown again."
      command: "/money"  # test money, balance below money drop

    - drop: MONEY  # do money drop
      quantity: 1-10
      delay: 10
      message: ["&Cstep 2b)&F You found $%q - balance should have increased by %q."]
      
    - delay: 20
      command: "/money"  # test money, balance after money drop (command for iConomy)
    
    - toolexcept: GOLD_SWORD
      drop: SHEEP
      delay: 30
      message: ["&Cstep 2c)&F now please kill the sheep with the diamond sword."]

# test lower chance exclusive drop
    - tool: ALL
      drop: DIAMOND
      exclusive: 1
      chance: 10

  
  CREATURE_SHEEP:
    - drop: GOLD_HOE
      message: ["&Cstep 3)&F Gold hoe dropped, go hack some leaves...", "&Cstep 3)&F Please use the hoe on leaves..."]

  LEAVES:

    - tool: ANY_HOE
      drop: GOLD_APPLE
# test permissions
      permissions: "leaves.apple"
      messages: "&Cstep 4x)&F Congrats - hoe on leaves worked with permission (otherdrops.custom.leaves.apple) successs"

# test permissionsexcept somehow
      #permissionsexcept: "leaves.egg"


  # test second drop with spade
    - tool: ANY_HOE
      drop: NOTHING
      message: "&Cstep 4a)&F Hoe detected - please wait a few seconds"

    - dropgroup: test
      tool: GOLD_HOE
      message: ["&Cstep 4b)&F Congrats, gold hoe detected, event test: you should see lightning with a short delay (60)."]
      drops:
# test event - lightning
        - events: LIGHTNING
          message: ["&Cstep 4c)&F Lightning triggered."]
          delay: 60


    - tool: ANY_HOE
      drop: NOTHING
      replacementblock: GLOWSTONE
      message: "&Cstep 4d)&F Replacing leaves with glowstone... break the glowstone."
      delay: 61


      
  # Test creature drop
  CREATURE_COW:
    - tool: ALL
      drop: LAVA_BUCKET
      
  GLOWSTONE:
    - drop: PIG@SADDLED
      message: "Saddled pig should drop."
    
  PIG@SADDLED:
    - drop: BOAT
      message: "Boat should drop."
    
  BOAT:
    - drop: MINECART
      message: "Minecart should drop."
    - drop: TRACKS/3
      message: "3 tracks should drop."

  MINECART:
    - drop: SNOWMAN
    

  SNOWMAN:
    - action: LEFT_CLICK
      drop: DIAMOND
    - action: RIGHT_CLICK
      replacementblock: DIAMOND_ORE

  DIAMOND_ORE:
    - drop: MONSTER_EGG@96  # spawns a mooshroom which (as at CB1772) is still detected as a cow upon death
